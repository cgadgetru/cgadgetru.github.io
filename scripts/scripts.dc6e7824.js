"use strict";function PulseZone(a){function b(a,b,c){var d=parseInt(b+(c-b)*(a+.1)),e=parseInt(b+(c-b)*a),f="-";return 0!==a&&1!==a?f=e+"-"+d:0==a?f=b:1==a&&(f=c),f}var c,d,e;c=calcMaxPulseSimple(a.age),d=calcMaxPulseExtend(a.age),e=a.restingHeartRate,this.name=a.name,this.className=a.className,this.simplePulseRange=b(a.factor,e,c),this.extendPulseRange=b(a.factor,e,d)}function calcMaxPulseSimple(a){return parseInt(220-a)}function calcMaxPulseExtend(a){return parseInt(205.8-.685*a)}function basalMetabolicRateCalcByKetch(a,b,c){var d,e,f=parseFloat(a),g=parseFloat(b);return d=getFatBySex(c,g,f),e=f*(100-d)/100,getBmiByKetch(e)}function basalMetabolicRateCalcByMuffin(a,b,c,d){var e=parseFloat(a),f=parseFloat(b),g=parseFloat(c);return getBmiByMuffin(d,e,f,g)}function getFatBySex(a,b,c){var d=0;return d="female"===a?100*(4.15*b/2.54-.082*c/.453-76.76)/(c/.453):100*(4.15*b/2.54-.082*c/.453-98.48)/(c/.453)}function getBmiByKetch(a){return a?parseInt(370+21.6*a):void 0}function getBmiByMuffin(a,b,c,d){var e=0;return e="female"===a?parseInt(9.99*b+6.25*c-4.92*d-161):parseInt(9.99*b+6.25*c-4.92*d+5)}function getCaloricNeedsCalc(a,b){return parseInt(a*b)}angular.module("healthCalculatorsApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/myroute",{templateUrl:"views/myroute.html",controller:"MyrouteCtrl"}).when("/pulseZoneCalc",{templateUrl:"views/pulsezonecalc.html",controller:"PulsezonecalcCtrl"}).when("/basalmetabolicrate",{templateUrl:"views/basalmetabolicrate.html",controller:"BasalmetabolicrateCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("healthCalculatorsApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("healthCalculatorsApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("healthCalculatorsApp").controller("MyrouteCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("healthCalculatorsApp").controller("PulsezonecalcCtrl",["$scope","PulseZones",function(a,b){var c=b.get();a.$watchGroup(["restingHeartRate","age"],function(){a.calculate()}),a.calculate=function(){a.restingHeartRate&&a.age?a.pulseZonesArray=b.get(a.restingHeartRate,a.age):a.pulseZonesArray=c},a.restingHeartRate&&a.age||(a.pulseZonesArray=c)}]),angular.module("healthCalculatorsApp").service("PulseZones",function(){var a=[{name:"максимальный пульс 100%",factor:1,className:"active"},{name:"зона VO2 max 90-100% (макcимальная нагрузка)",factor:.9,className:"danger"},{name:"анаэробная зона 80-90%(силовая тренировка)",factor:.8,className:"warning"},{name:"аэробная зона 70-80% (бег, велосипед)",factor:.7,className:"success"},{name:"жиросжигающая зона 60-70% (фитнес, ролики)",factor:.6,className:"info"},{name:"зона легкой активности 50-60% (разминка)",factor:.5,className:"active"},{name:"пульс покоя 0%",factor:0,className:"active"}];return{get:function(b,c){var d=[];return b&&c?angular.forEach(a,function(a,e){d.push(new PulseZone({name:a.name,className:a.className,factor:a.factor,restingHeartRate:b,age:c}))}):d=a,d}}}),angular.module("healthCalculatorsApp").controller("BasalmetabolicrateCtrl",["$scope","BasalMetabolicRate",function(a,b){a.basalmetabolicrateArray=b.get(),a.weight=0,a.height=0,a.waistline=0,a.age=0,a.sex_selected="",a.activity_selected="",a.sex=[{name:"Сильный",value:"male",id:0},{name:"Прекрасный",value:"female",id:1}],a.activity=[{name:"минимальна",value:1.2},{name:"тренировки 1-3 раза в неделю",value:1.375},{name:"тренировки 3-5 раз в неделю",value:1.55},{name:"тренировки 6-7 раз в неделю",value:1.725},{name:"тренировки 2 раза в день, тяжелая физическая работа",value:1.9}],a.$watchGroup(["weight","age","height","waistline","sex_selected","activity_selected"],function(){a.calculate()}),a.calculate=function(){console.log("bmi",b.get(a.weight,a.height,a.waistline,a.age,a.sex_selected.value,a.activity_selected.value))}}]),angular.module("healthCalculatorsApp").service("BasalMetabolicRate",function(){var a=[{name:"Базальный уровень метаболизма (ккал/день)"},{name:"Ежедневная потребность в калориях (ккал/день)"}];return{get:function(b,c,d,e,f,g){return console.log("agrs",arguments),b&&c&&d&&e&&f&&g?(a[0].value1=basalMetabolicRateCalcByMuffin(b,c,e,f),a[0].value2=basalMetabolicRateCalcByKetch(b,d,f),a[1].value1=getCaloricNeedsCalc(a[0].value1,g),a[1].value2=getCaloricNeedsCalc(a[0].value2,g),a):a}}});